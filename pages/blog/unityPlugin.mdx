# 如何创建自定义 Unity 插件

Unity 提供了自定义插件的方法，通过 C# 脚本即可创建 UI 面板，菜单，工具栏等。开发者可以通过这些插件来扩展 Unity 的功能，提高开发效率。这里将介绍如何创建自定义 Unity 插件。

![](https://jetzihan-img.oss-cn-beijing.aliyuncs.com/20240406200824.png)

## 创建自定义 Unity 插件类

首先，我们需要创建一个继承自 `EditorWindow` 的类，这个类将作为我们自定义插件的主类。在这个类中，我们可以定义 UI 面板，菜单，工具栏等。

```csharp
public class Tool : EditorWindow{

}
```

## 创建 `init` 函数

在 `Tool` 类中，我们需要创建一个 `init` 函数，这个函数将用于初始化插件。在这个函数中，我们可以设置插件的大小，标题等。

```csharp
[MenuItem("Tools/Tool")]  // 设置插件入口的位置为 Tools/Tool
static void Init()
{
    Tool window = (Tool)EditorWindow.GetWindow(typeof(Tool));
    // 设置插件的页面位置和大小
    window.position = new Rect(400, 100, 400, 600);
    window.Show();
}
```

## 创建 OnGUI 函数

在 `Tool` 类中，我们需要创建一个 `OnGUI` 函数，这个函数将用于绘制插件的 UI 面板。

```csharp
void OnGUI()
{
    // 绘制一个按钮
    if (GUILayout.Button("Click Me"))
    {
        Debug.Log("Button Clicked");
    }
}
```

如此，我们就创建了一个简单的自定义 Unity 插件。通过这个插件，我们可以在 Unity 编辑器中创建一个按钮，点击按钮后会在控制台输出 `Button Clicked`。
